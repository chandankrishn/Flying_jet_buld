System.register("chunks:///_virtual/mainscript.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./single.ts"],(function(e){"use strict";var t,i,n,s,l,o,h,a,r,_,u,p,m,c,b,g,y,d,f,v,w,C,x,P,S,j;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,l=e.defineProperty},function(e){o=e.cclegacy,h=e._decorator,a=e.Prefab,r=e.Label,_=e.Sprite,u=e.JsonAsset,p=e.SpriteFrame,m=e.instantiate,c=e.UITransform,b=e.UIOpacity,g=e.toDegree,y=e.Vec3,d=e.v2,f=e.systemEvent,v=e.SystemEvent,w=e.Intersection2D,C=e.Animation,x=e.tween,P=e.Node,S=e.Component},function(e){j=e.SingletonClass}],execute:function(){var E,B,L,F,T,M,k,z,A,D,N,I,O,H,U,R,V,W,q,G,J,K,Y,Q,X,Z,$,ee,te,ie,ne,se,le,oe,he,ae,re,_e,ue;o._RF.push({},"21a4byeAjhMqp+Eyz+0qht2","mainscript",void 0);var pe=h.ccclass,me=h.property,ce=j.getInstance();e("Mainscript",(E=pe("Mainscript"),B=me(a),L=me(a),F=me(a),T=me(a),M=me(a),k=me(a),z=me(a),A=me(a),D=me(a),N=me(a),I=me(a),O=me(a),H=me(r),U=me(_),R=me(a),V=me(u),W=me(_),q=me(p),E((K=t((J=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),h=0;h<i;h++)o[h]=arguments[h];return t=e.call.apply(e,[this].concat(o))||this,n(s(t),"bullet_prefab",K,s(t)),n(s(t),"enemy_plane_prefeb",Y,s(t)),n(s(t),"enemy_bullet_prefeb",Q,s(t)),n(s(t),"explode_prefab",X,s(t)),n(s(t),"laser_bullet_prefab",Z,s(t)),n(s(t),"enemy_ship_prefab",$,s(t)),n(s(t),"enemy_missile_prefab",ee,s(t)),n(s(t),"enemy_bomber_prefab",te,s(t)),n(s(t),"enemy_bomber_plane_prefab",ie,s(t)),n(s(t),"refuel_pipe_prefab",ne,s(t)),n(s(t),"plane_selectionPopup_prefab",se,s(t)),n(s(t),"friendly_plane_prefab",le,s(t)),n(s(t),"level_string_label",oe,s(t)),n(s(t),"start_button",he,s(t)),n(s(t),"reword_prefab",ae,s(t)),n(s(t),"levels_data",re,s(t)),n(s(t),"fade_effectNode",_e,s(t)),n(s(t),"frienldy_plane_images",ue,s(t)),l(s(t),"reward_node",void 0),l(s(t),"laser",void 0),l(s(t),"width",void 0),l(s(t),"height",void 0),l(s(t),"jet",void 0),l(s(t),"jet_height",void 0),l(s(t),"jet_width",void 0),l(s(t),"xpos",void 0),l(s(t),"levels",[]),l(s(t),"using_bullets",[]),l(s(t),"unused_bullets",[]),l(s(t),"using_laser_bullets",[]),l(s(t),"unused_laser_bullets",[]),l(s(t),"unused_enemy_bullets",[]),l(s(t),"using_enemy_bullets",[]),l(s(t),"unused_enemy_plane",[]),l(s(t),"using_enemy_plane",[]),l(s(t),"unused_enemy_missile",[]),l(s(t),"using_enemy_missile",[]),l(s(t),"unused_enemy_ship",[]),l(s(t),"using_enemy_ship",[]),l(s(t),"unused_bomber_plane",[]),l(s(t),"using_bomber_plane",[]),l(s(t),"unused_enemy_launcher",[]),l(s(t),"using_enemy_launcher",[]),l(s(t),"unused_blast",[]),l(s(t),"using_blast",[]),l(s(t),"levels_name_string",["LEVEL 1 : DEFEND THE SKIES","LEVEL 2 : DEFEND THE SEA","LEVEL 3 : DEFEND THE LAND","LEVEL 4 : DEFEND THE CITY","LEVEL 5 : DEFEND THE AIRBASES"]),l(s(t),"score_to_pass",0),l(s(t),"current_row",0),l(s(t),"small_plane_scheduler",void 0),l(s(t),"max_rows_in_level",0),l(s(t),"ships",void 0),l(s(t),"bomber",void 0),l(s(t),"bomber_planes",void 0),l(s(t),"count",0),l(s(t),"power_of_enemy",void 0),l(s(t),"bomber_enemy_schedule",void 0),l(s(t),"plane_move",!1),l(s(t),"global_asset",void 0),l(s(t),"friendly_bullets_count",1),l(s(t),"friendly_bullet_scheduler",void 0),l(s(t),"plane_selection_popup",void 0),l(s(t),"controller_nextLevel",!1),l(s(t),"jet_moveAnimation",null),l(s(t),"scheduler_time_toggle",!0),l(s(t),"recycle_toggle",!1),l(s(t),"colider_togggle",!0),t}i(t,e);var o=t.prototype;return o.shootBullets=function(){if(this.friendly_bullets_count<=3){this.xpos=this.jet.position.x;for(var e=-30,t=0,i=0,n=1;n<=this.friendly_bullets_count;n++)s=this.unused_bullets.shift(),i=this.jet.position.y,1==this.friendly_bullets_count?(t=this.xpos,i=this.jet.position.y+50):2==this.friendly_bullets_count?(t=this.xpos+e,e+=60):(t=this.xpos,1==n?(s.moveleft=!0,t+=e,e=30):3==n&&(t+=e,s.moveright=!0)),s.setPosition(t,i,1),s.move=!0,this.using_bullets.push(s)}else if(4==this.friendly_bullets_count){var s;this.scheduler_time_toggle&&(this.unschedule(this.shootBullets),this.scheduler_time_toggle=!1,this.schedule(this.shootBullets,1)),console.log("shooting laser"),(s=this.unused_laser_bullets.shift()).planex=this.xpos,s.planey=this.jet.position.y,s.setPosition(this.xpos,this.jet.position.y+50,1),s.move=!0,this.using_laser_bullets.push(s)}this.friendly_plane_collison(),this.count++,this.enemybullets(),6==this.count&&(this.launch_enemy_missile(),this.count=0)},o.enemybullets=function(){for(var e,t=0;t<this.using_enemy_plane.length;t++)this.using_enemy_plane[t].counter==this.using_enemy_plane[t].delay?(e=this.unused_enemy_bullets.shift(),this.using_enemy_bullets.push(e),e.setPosition(this.using_enemy_plane[t].position.x,this.using_enemy_plane[t].position.y,1),e.move=!0,this.using_enemy_plane[t].counter=0):this.using_enemy_plane[t].counter=this.using_enemy_plane[t].counter+1},o.instanciate_unused_enemy_missile=function(){for(var e,t=0;t<6;t++)e=m(this.enemy_missile_prefab),this.node.addChild(e),e.superbullet=!0,e.move=!1,e.trackpos=!1,e.setPosition(0,this.height/2+this.enemy_missile_prefab.data.height/2,0),this.unused_enemy_missile.push(e)},o.launch_enemy_missile=function(){for(var e=0;e<this.using_enemy_ship.length;e++)this.using_enemy_ship[e].position.y<this.node.getComponent(c).height/2&&this.using_enemy_ship[e].position.y>-this.node.getComponent(c).height/2&&this.missilePosition(this.using_enemy_ship[e].position.x,this.using_enemy_ship[e].position.y);for(var t=0;t<this.using_enemy_launcher.length;t++)this.missilePosition(this.using_enemy_launcher[t].position.x,this.using_enemy_launcher[t].position.y);for(var i=0;i<this.using_bomber_plane.length;i++)this.missilePosition(this.using_bomber_plane[i].position.x+300,this.using_bomber_plane[i].position.y),this.missilePosition(this.using_bomber_plane[i].position.x-300,this.using_bomber_plane[i].position.y)},o.missilePosition=function(e,t){var i;(i=this.unused_enemy_missile.shift()).move=!0,i.getComponent(b).opacity=255,i.trackpos=!0,this.using_enemy_missile.push(i),i.setPosition(e,t,0);var n=e-this.jet.position.x,s=t-this.jet.position.y,l=Math.atan2(s,n);i.angle=g(l)-90},o.enemy_planes=function(e,t){var i,n,s;ce.setCurrentrow(ce.getCurrentrow()+1),t==this.max_rows_in_level&&ce.setCurrentrow(1),s=this.height/2;for(var l=Math.floor(this.width/this.enemy_plane_prefeb.data.width),o=0;o<e.length;o++)e[o].row==t&&(i=this.unused_enemy_plane.shift(),this.using_enemy_plane.push(i),i.follow=e[o].follow,i.move=!0,i.reward=e[o].reward,i.delay=e[o].bullet_delay,i.counter=0,i.follow?e[o].pos<6?(n=-this.width/2-this.enemy_plane_prefeb.data.width,s=this.height/2):(n=this.width/2+this.enemy_plane_prefeb.data.width,s=this.height/2):(n=l/2>e[o].pos?(e[o].pos-l/2)*this.enemy_plane_prefeb.data.width:l/2==e[o].pos?0:-(this.width/2-e[o].pos*this.enemy_plane_prefeb.data.width)+this.enemy_plane_prefeb.data.width/2,s+=this.enemy_plane_prefeb.data.height/2),i.getComponent(b).opacity=255,i.setPosition(n,s))},o.bomber_plane_assigning=function(){if(0==this.using_bomber_plane.length){var e=this.unused_bomber_plane.shift();e.moveon=!0,e.bomber=!0,e.power=this.power_of_enemy,this.using_bomber_plane.push(e),e.getComponent("BomberPlaneMove").moveplane=!0,this.unschedule(this.bomber_plane_assigning)}},o.set_a_bomberOnPlains=function(){var e=this.unused_enemy_launcher.shift();this.using_enemy_launcher.push(e),e.moveon=!0,e.power=this.power_of_enemy;var t=this.enemy_bomber_prefab.data.width,i=0,n=Math.floor(this.width/this.enemy_bomber_prefab.data.width),s=Math.floor(Math.random()*(n-1+1))+1;n/2>(s-=1)?i=(s-n/2)*t+t:n/2==s?i=0:(i=-(this.width/2-s*t)+t/2,e.setScale(new y(-1,1,0))),e.setPosition(i,this.height/2+t/2,0)},o.sail_in_water=function(){var e=this.unused_enemy_ship.shift();this.using_enemy_ship.push(e),e.power=this.power_of_enemy;var t,i,n=0;if(1==Math.floor(2*Math.random())+1){e.angle=-90,t=this.enemy_ship_prefab.data.height,i=Math.floor(this.width/t);var s=Math.floor(Math.random()*(i-1+1))+1;n=this.height/2+this.enemy_ship_prefab.data.width}else{t=this.enemy_ship_prefab.data.width,i=Math.floor(this.width/t);s=Math.floor(Math.random()*(i-0+1))+0;n=this.height/2+this.enemy_ship_prefab.data.height}var l=0;l=i/2>(s-=1)?(s-i/2)*t+t:i/2==s?0:-(this.width/2-s*t)+t/2,e.moveon=!0,e.setPosition(l,n,0)},o.smallplanescheduler=function(){this.enemy_planes(this.global_asset.small_planes,ce.getCurrentrow())},o.gameplay_start=function(e){this.friendly_bullet_scheduler=this.schedule(this.shootBullets,.5),this.global_asset=e,this.ships=e.ships,this.bomber=e.launchers,this.power_of_enemy=e.power,this.bomber_planes=e.bomber_planes,this.ships>0?(this.sail_in_water(),this.bomber_enemy_schedule=this.schedule(this.sail_in_water,15)):this.bomber>0?(this.set_a_bomberOnPlains(),this.bomber_enemy_schedule=this.schedule(this.set_a_bomberOnPlains,15)):this.bomber_planes>0&&(this.bomber_planes=this.bomber_planes-1,this.bomber_plane_assigning()),this.score_to_pass=e.score_to_pass,console.log("score to pass ",this.score_to_pass),this.max_rows_in_level=e.rows,ce.setCurrentrow(1),this.small_plane_scheduler=this.schedule(this.smallplanescheduler,2)},o.touchMove=function(e){var t=this.node.getComponent(c).convertToNodeSpaceAR(new y(e.getUILocation().x,e.getUILocation().y,1));this.plane_move&&this.width/2-this.jet_width/2>t.x&&-(this.width/2-this.jet_width/2)<t.x&&this.height/2-this.jet_height/2>t.y&&-(this.height/2-this.jet_height/2)<t.y&&(this.xpos=t.x,this.jet.setPosition(t.x,t.y,0))},o.touchStart=function(e){var t;(null===(t=this.jet.getComponent(c))||void 0===t?void 0:t.getBoundingBoxToWorld().contains(d(e.getUILocation().x,e.getUILocation().y)))&&(this.plane_move=!0)},o.touchEnd=function(e){this.plane_move=!1},o.setTouchEvents=function(){f.on(v.EventType.TOUCH_START,this.touchStart,this),f.on(v.EventType.TOUCH_MOVE,this.touchMove,this),f.on(v.EventType.TOUCH_END,this.touchEnd,this)},o.frienlyPlaneBullets_intanciate=function(){for(var e,t=1;t<=10;t++)e=m(this.bullet_prefab),this.node.addChild(e),e.setPosition(0,this.height/2+this.bullet_prefab.data.height,0),e.move=!1,e.moveleft=!1,e.moveright=!1,this.unused_bullets.push(e)},o.recyleSupportingFunction=function(e,t,i,n,s){n&&(t[i].moveleft=!1,t[i].moveright=!1),e.push(t[i]),t[i].move=!1,t[i].setPosition(0,this.height/2+s.data.height/2,0),t.splice(i,1)},o.recycleSupporting_shipPlaneBomber=function(e,t,i,n,s){e.push(t[i]),t[i].moveon=!1,t[i].setPosition(0,this.height/2+s/2,0),t.splice(i,1)},o.recycle_bullets=function(){for(var e=0;e<this.using_bullets.length;e++)this.using_bullets[e].position.y>this.height/2&&this.recyleSupportingFunction(this.unused_bullets,this.using_bullets,e,!0,this.bullet_prefab);for(var t=0;t<this.using_enemy_bullets.length;t++)-this.height/2>this.using_enemy_bullets[t].position.y&&this.recyleSupportingFunction(this.unused_enemy_bullets,this.using_enemy_bullets,t,!1,this.enemy_bullet_prefeb);for(var i=0;i<this.using_enemy_plane.length;i++)-(this.height/2+this.enemy_plane_prefeb.data.height/2)>this.using_enemy_plane[i].position.y&&this.recyleSupportingFunction(this.unused_enemy_plane,this.using_enemy_plane,i,!1,this.enemy_plane_prefeb);for(var n=0;n<this.using_enemy_ship.length;n++)-(this.height/2+this.enemy_ship_prefab.data.width/2)>this.using_enemy_ship[n].position.y&&(this.using_enemy_ship[n].angle=0,this.recycleSupporting_shipPlaneBomber(this.unused_enemy_ship,this.using_enemy_ship,n,!1,this.enemy_ship_prefab.data.width));for(var s=0;s<this.using_enemy_launcher.length;s++)-(this.height/2+this.enemy_bomber_prefab.data.height/2)>this.using_enemy_launcher[s].position.y&&(this.using_enemy_launcher[s].setScale(1,1,0),this.recycleSupporting_shipPlaneBomber(this.unused_enemy_launcher,this.using_enemy_launcher,s,!1,this.enemy_bomber_prefab.data.height));for(var l=0;l<this.using_enemy_missile.length;l++)(this.using_enemy_missile[l].position.y<-(this.height/2+this.enemy_missile_prefab.data.height/2)||this.using_enemy_missile[l].position.y>this.height/2+this.enemy_missile_prefab.data.height/2||this.using_enemy_missile[l].position.x<-(this.width/2+this.enemy_missile_prefab.data.width/2)||this.using_enemy_missile[l].position.x>this.width/2+this.enemy_missile_prefab.data.width/2)&&(this.using_enemy_missile[l].trackpos=!1,this.recyleSupportingFunction(this.unused_enemy_missile,this.using_enemy_missile,l,!1,this.enemy_missile_prefab));for(var o=0;o<this.using_laser_bullets.length;o++)this.using_laser_bullets[o].position.y>this.height/2+this.laser_bullet_prefab.data.height/2&&(this.using_laser_bullets[o].setScale(0,0,0),this.recyleSupportingFunction(this.unused_laser_bullets,this.using_laser_bullets,o,!1,this.laser_bullet_prefab))},o.collision_check=function(e,t){var i,n;return w.rectRect(null===(i=e.getComponent(c))||void 0===i?void 0:i.getBoundingBoxToWorld(),null===(n=t.getComponent(c))||void 0===n?void 0:n.getBoundingBoxToWorld())},o.explode_animation=function(e,t,i){var n=this,s=this.unused_blast.shift();s.setPosition(e,t,1),s.getComponent(C).play(),s.setScale(i,i,i),this.using_blast.push(s),x(s).delay(.67).call((function(){var e;(e=n.using_blast.shift()).setScale(1,1,1),e.setPosition(0,n.height/2+n.explode_prefab.data.height/2,0),n.unused_blast.push(e)})).start()},o.enemy_plane_collision_supporting=function(e){for(var t=0;t<e.length;t++){for(var i=0;i<this.using_enemy_plane.length;i++)this.collision_check(e[t],this.using_enemy_plane[i])&&(this.using_enemy_plane[i].follow&&this.using_enemy_plane[i].reward&&(this.reward_node.setPosition(this.using_enemy_plane[i].position.x,this.using_enemy_plane[i].position.y,0),this.reward_node.move=!0),this.using_enemy_plane[i].getComponent(b).opacity=0,ce.setCurrentScore(ce.getCurrentScore()+1),this.explode_animation(this.using_enemy_plane[i].position.x,this.using_enemy_plane[i].position.y,1),this.recyleSupportingFunction(this.unused_enemy_plane,this.using_enemy_plane,i,!1,this.enemy_plane_prefeb),this.recyleSupportingFunction(this.unused_bullets,this.using_bullets,t,!0,this.bullet_prefab),i-=1);for(var n=0;n<this.using_enemy_ship.length;n++)this.collision_check(e[t],this.using_enemy_ship[n])&&(this.explode_animation(this.using_enemy_ship[n].position.x,this.using_enemy_ship[n].position.y,2),0==this.using_enemy_ship[n].power?(this.using_enemy_ship[n].angle=0,this.recycleSupporting_shipPlaneBomber(this.unused_enemy_ship,this.using_enemy_ship,n,!1,this.enemy_ship_prefab.data.width)):this.using_enemy_ship[n].power=this.using_enemy_ship[n].power-1,ce.setCurrentScore(ce.getCurrentScore()+1),this.recyleSupportingFunction(this.unused_bullets,this.using_bullets,t,!0,this.bullet_prefab),n-=1);for(n=0;n<this.using_enemy_launcher.length;n++)this.collision_check(e[t],this.using_enemy_launcher[n])&&(this.explode_animation(this.using_enemy_launcher[n].position.x,this.using_enemy_launcher[n].position.y,2),0==this.using_enemy_launcher[n].power?(this.using_enemy_launcher[n].setScale(0,0,0),this.recycleSupporting_shipPlaneBomber(this.unused_enemy_launcher,this.using_enemy_launcher,n,!1,this.enemy_bomber_prefab.data.height)):this.using_enemy_launcher[n].power=this.using_enemy_launcher[n].power-1,this.recyleSupportingFunction(this.unused_bullets,this.using_bullets,t,!0,this.bullet_prefab),ce.setCurrentScore(ce.getCurrentScore()+1),n-=1);for(i=0;i<this.using_bomber_plane.length;i++)if(this.collision_check(e[t],this.using_bomber_plane[i].children[0])||this.collision_check(e[t],this.using_bomber_plane[i].children[1])||this.collision_check(e[t],this.using_bomber_plane[i].children[2])||this.collision_check(e[t],this.using_bomber_plane[i].children[3])){if(this.explode_animation(this.using_bomber_plane[i].position.x,this.using_bomber_plane[i].position.y,2),0==this.using_bomber_plane[i].power)this.using_bomber_plane[i].getComponent("BomberPlaneMove").animation.stop(),this.using_bomber_plane[i].bomber=!1,this.recycleSupporting_shipPlaneBomber(this.unused_bomber_plane,this.using_bomber_plane,i,!1,this.enemy_bomber_plane_prefab.data.height),0!=this.bomber_planes&&(this.bomber_planes=this.bomber_planes-1,this.schedule(this.bomber_plane_assigning,6));else this.using_bomber_plane[i].power=this.using_bomber_plane[i].power-1;this.recyleSupportingFunction(this.unused_bullets,this.using_bullets,t,!0,this.bullet_prefab),ce.setCurrentScore(ce.getCurrentScore()+1),t-=1}}},o.enemy_plane_collison=function(){this.colider_togggle=!1,this.enemy_plane_collision_supporting(this.using_bullets),this.enemy_plane_collision_supporting(this.using_laser_bullets),this.check_to_move_next_level(),this.colider_togggle=!0},o.friendly_plane_collison=function(){this.colider_togggle=!1;for(var e=0;e<this.using_enemy_bullets.length;e++)this.collision_check(this.using_enemy_bullets[e],this.jet)&&(this.decrease_life(),this.recyleSupportingFunction(this.unused_enemy_bullets,this.using_enemy_bullets,e,!1,this.enemy_bullet_prefeb),this.explode_animation(this.jet.position.x,this.jet.position.y,1));for(var t=0;t<this.using_enemy_plane.length;t++)this.collision_check(this.using_enemy_plane[t],this.jet)&&(this.decrease_life(),this.using_enemy_plane[t].getComponent(b).opacity=0,this.recyleSupportingFunction(this.unused_enemy_plane,this.using_enemy_plane,t,!1,this.enemy_plane_prefeb),this.explode_animation(this.jet.position.x,this.jet.position.y,1));for(var i=0;i<this.using_enemy_missile.length;i++)this.collision_check(this.using_enemy_missile[i],this.jet)&&(this.using_enemy_missile[i].getComponent(b).opacity=0,this.decrease_life(),this.recyleSupportingFunction(this.unused_enemy_missile,this.using_enemy_missile,i,!1,this.enemy_missile_prefab),this.explode_animation(this.jet.position.x,this.jet.position.y,1));this.collision_check(this.jet,this.reward_node)&&(this.friendly_bullets_count<4?this.friendly_bullets_count+=1:ce.getCurrentlife()<3&&ce.setCurrentlife(ce.getCurrentlife()+1),this.reward_node.setPosition(0,this.height/2+this.reword_prefab.data.height,0),this.reward_node.move=!1),this.colider_togggle=!0},o.decrease_life=function(){ce.getCurrentlife()>0&&ce.setCurrentlife(ce.getCurrentlife()-1)},o.change_position_laser=function(){this.laser.setPosition(this.jet.position.x,this.jet.position.y,0)},o.flushfornextLevel=function(){for(var e=0;e<this.using_bullets.length;e++)this.recyleSupportingFunction(this.unused_bullets,this.using_bullets,e,!0,this.bullet_prefab),e-=1;for(var t=0;t<this.using_enemy_bullets.length;t++)this.recyleSupportingFunction(this.unused_enemy_bullets,this.using_enemy_bullets,t,!1,this.enemy_bullet_prefeb),t-=1;for(var i=0;i<this.using_enemy_plane.length;i++)this.using_enemy_plane[i].getComponent(b).opacity=0,this.recyleSupportingFunction(this.unused_enemy_plane,this.using_enemy_plane,i,!1,this.enemy_plane_prefeb),i-=1;for(var n=0;n<this.using_enemy_ship.length;n++)this.recycleSupporting_shipPlaneBomber(this.unused_enemy_ship,this.using_enemy_ship,n,!1,this.enemy_ship_prefab.data.width),n-=1;for(var s=0;s<this.using_enemy_launcher.length;s++)this.recycleSupporting_shipPlaneBomber(this.unused_enemy_launcher,this.using_enemy_launcher,s,!1,this.enemy_bomber_prefab.data.height),s-=1;for(var l=0;l<this.using_enemy_missile.length;l++)this.recyleSupportingFunction(this.unused_enemy_missile,this.using_enemy_missile,l,!1,this.enemy_missile_prefab),l-=1;for(var o=0;o<this.using_bomber_plane.length;o++){this.using_bomber_plane[o].getComponent("BomberPlaneMove").animation.stop(),this.recycleSupporting_shipPlaneBomber(this.unused_bomber_plane,this.using_bomber_plane,o,!1,this.enemy_bomber_plane_prefab.data.height)}},o.changelevel_function=function(){this.scheduler_time_toggle=!0,this.recycle_toggle=!0,this.plane_move=!0,this.friendly_bullets_count=1,this.gameplay_start(this.levels_data[ce.getCurrentLevel()-1].json.levelsData)},o.check_to_move_next_level=function(){this.score_to_pass<=ce.getCurrentScore()&&this.controller_nextLevel&&(this.controller_nextLevel=!1,this.unschedule(this.smallplanescheduler),this.unschedule(this.shootBullets),this.unschedule(this.set_a_bomberOnPlains),this.unschedule(this.sail_in_water),5==ce.getCurrentLevel()?(ce.setCurrentLevel(1),ce.setGamePlayCount(ce.getGamePlayCount()+1),ce.setCurrentlife(3),ce.setCurrentScore(0),this.flushfornextLevel(),this.planeSelectionPopup()):(this.planeRefuel_animation(),this.flushfornextLevel()))},o.level_start_animation_end=function(){var e=this,t=this.node.getChildByName("parallaxBackground");x(this.start_button.node).delay(.5).to(.1,{scale:new y(1,0,1)}).to(.5,{scale:new y(0,0,1)}).start(),x(this.level_string_label.node).delay(.6).to(1,{position:new y(0,this.height,0)}).start(),x(this.jet).delay(.6).call((function(){e.jet_moveAnimation.stop()})).to(1,{position:new y(0,-(this.height/2-this.friendly_plane_prefab.data.height/2),0)}).call((function(){e.controller_nextLevel=!0,t.getComponent("ParallaxEffect2").speed=1,e.changelevel_function()})).start()},o.level_start_animation_begin=function(){var e=this,t=this.node.getChildByName("parallaxBackground");!function(e){for(var i=function(e){setTimeout((function(){t.getComponent("ParallaxEffect2").speed=e}),200*e)},n=1;n<=e;n++)i(n)}(10),this.level_string_label.getComponent(r).string=this.levels_name_string[ce.getCurrentLevel()-1],x(this.level_string_label.node).delay(.5).to(1,{position:new y(0,200,0)}).start(),this.jet_moveAnimation=x(this.jet).repeatForever(x().by(3,{position:new y(200,0,0)}).by(3,{position:new y(-200,0,0)}).by(3,{position:new y(-200,0,0)}).by(3,{position:new y(200,0,0)})),x(this.start_button.node).delay(1.5).to(.1,{scale:new y(0,1,1)}).to(.5,{scale:new y(1,1,1)}).start(),x(this.jet).delay(1.5).to(1,{position:new y(0,-200,0)}).call((function(){e.jet_moveAnimation.start()})).start()},o.fadeInEffect=function(e){var t=this,i=0;this.schedule((function n(){255==i?t.unschedule(n):e.getComponent(b).opacity=i+=1}),.001)},o.fadeOutEffect=function(e){var t=this,i=255;this.schedule((function n(){50==i?t.unschedule(n):e.getComponent(b).opacity=i-=1}),.001)},o.planeRefuel_animation=function(){var e=this;this.recycle_toggle=!1;var t=this.unused_bomber_plane.shift(),i=this.node.getChildByName("parallaxBackground"),n=m(this.refuel_pipe_prefab);t.addChild(n),n.setPosition(200.9,-30.7,1);var s=200;this.plane_move=!1;var l=t.getComponent("BomberPlaneMove");t.setPosition(0,-(this.height/2+this.enemy_bomber_plane_prefab.data.height/2),0);var o=x(this.jet).repeatForever(x().by(3,{position:new y(s,0,0)}).by(3,{position:new y(-200,0,0)}).by(3,{position:new y(-200,0,0)}).by(3,{position:new y(s,0,0)}));!function(e){for(var t=function(e){setTimeout((function(){i.getComponent("ParallaxEffect2").speed=e}),300*e)},n=1;n<=e;n++)t(n)}(10);var h=x(n).to(1,{scale:new y(.5,1,0)}),a=x(n).to(.5,{scale:new y(.5,0,0)});x(t).delay(2).to(2,{position:new y(0,199,1)}).call((function(){})).delay(8).call((function(){l.animation.stop(),a.start(),o.stop()})).delay(.5).to(1,{position:new y(0,this.height/2+this.enemy_bomber_plane_prefab.data.height/2,1)}).call((function(){i.getComponent("ParallaxEffect2").speed=1,t.removeChild(n),ce.setCurrentLevel(ce.getCurrentLevel()+1),ce.getCurrentLevel()>1&&e.fadeOutEffect(e.fade_effectNode),e.level_start_animation_begin()})).delay(1).call((function(){t.refuel=!1,l.moveplane=!0,e.unused_bomber_plane.push(t)})).start(),x(this.jet).delay(2).to(1,{position:new y(0,-(this.height/2-this.jet_height/2),1)}).delay(.5).to(2,{position:new y(196,-163.34,1)}).call((function(){t.refuel=!0,o.start()})).delay(.5).call((function(){h.start()})).delay(.8).call((function(){e.fadeInEffect(e.fade_effectNode)})).start()},o.instanciate_Arrays=function(e,t,i,n){for(var s,l=0;l<t;l++)s=m(n),this.node.addChild(s),s.setPosition(0,this.height/2+n.data.height/2,0),s.move=i,e.push(s)},o.instanciate_ship_and_bomber=function(e,t,i){for(var n,s=0;s<i;s++)n=m(t),this.node.addChild(n),n.setPosition(0,this.height/2+t.data.width/2,0),n.moveon=!1,e.push(n)},o.update=function(){this.recycle_toggle&&this.recycle_scheduler()},o.recycle_scheduler=function(){this.recycle_bullets(),this.enemy_plane_collison(),this.friendly_plane_collison()},o.planeSelectionPopup=function(){var e=this.plane_selection_popup;e.getComponent("PlaneSelectionpopup").unlockplane(),x(e).delay(.5).to(.6,{scale:new y(1,1,1)}).start(),e.getChildByName("start").on(P.EventType.TOUCH_START,(function(t){this.jet.getComponent(_).spriteFrame=this.frienldy_plane_images[ce.getSelectedPlane()],x(e).to(.5,{scale:new y(0,1,1)}).delay(.5).to(.5,{scale:new y(0,0,1)}).start(),this.level_start_animation_begin()}),this)},o.onLoad=function(){this.width=this.node.getComponent(c).width,this.height=this.node.getComponent(c).height,this.frienlyPlaneBullets_intanciate(),this.instanciate_ship_and_bomber(this.unused_enemy_ship,this.enemy_ship_prefab,4),this.instanciate_ship_and_bomber(this.unused_enemy_launcher,this.enemy_bomber_prefab,4),this.jet=m(this.friendly_plane_prefab),this.node.addChild(this.jet),this.instanciate_Arrays(this.unused_enemy_bullets,20,!1,this.enemy_bullet_prefeb),this.instanciate_Arrays(this.unused_laser_bullets,10,!1,this.laser_bullet_prefab),console.log(this.unused_laser_bullets.length),this.instanciate_Arrays(this.unused_enemy_plane,10,!1,this.enemy_plane_prefeb),this.instanciate_ship_and_bomber(this.unused_bomber_plane,this.enemy_bomber_plane_prefab,2),this.instanciate_unused_enemy_missile(),this.instanciate_Arrays(this.unused_blast,10,!1,this.explode_prefab),this.jet.setPosition(0,-(this.height/2+this.friendly_plane_prefab.data.height/2),1),this.jet_width=this.jet.getComponent(c).width,this.jet_height=this.jet.getComponent(c).height,ce.setCurrentlife(3),this.setTouchEvents(),this.reward_node=m(this.reword_prefab),this.node.addChild(this.reward_node),this.reward_node.setPosition(0,this.height/2+this.reword_prefab.data.height,0),this.reward_node.move=!1,ce.setCurrentLevel(1),this.plane_selection_popup=m(this.plane_selectionPopup_prefab),this.node.addChild(this.plane_selection_popup),this.planeSelectionPopup()},t}(S)).prototype,"bullet_prefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(J.prototype,"enemy_plane_prefeb",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(J.prototype,"enemy_bullet_prefeb",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(J.prototype,"explode_prefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(J.prototype,"laser_bullet_prefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(J.prototype,"enemy_ship_prefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(J.prototype,"enemy_missile_prefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(J.prototype,"enemy_bomber_prefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(J.prototype,"enemy_bomber_plane_prefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(J.prototype,"refuel_pipe_prefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(J.prototype,"plane_selectionPopup_prefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(J.prototype,"friendly_plane_prefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(J.prototype,"level_string_label",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(J.prototype,"start_button",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(J.prototype,"reword_prefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(J.prototype,"levels_data",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_e=t(J.prototype,"fade_effectNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(J.prototype,"frienldy_plane_images",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=J))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/bomber_plane_move.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var i,n,t,e,s,r,a,p;return{setters:[function(o){i=o.inheritsLoose,n=o.defineProperty,t=o.assertThisInitialized},function(o){e=o.cclegacy,s=o._decorator,r=o.tween,a=o.Vec3,p=o.Component}],execute:function(){var h;e._RF.push({},"90b5dYNUe9JDYzZiLrbzwHL","bomber_plane_move",void 0);var m=s.ccclass;s.property,o("BomberPlaneMove",m("BomberPlaneMove")(h=function(o){function e(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=o.call.apply(o,[this].concat(s))||this,n(t(i),"animation",void 0),n(t(i),"moveplane",!0),n(t(i),"movepositon",0),i}i(e,o);var s=e.prototype;return s.start=function(){},s.infnite_move=function(o){o&&(this.Assign_animation(),this.animation.start()),this.moveplane=!1},s.Assign_animation=function(){this.animation=r(this.node).repeatForever(r().by(3,{position:new a(this.movepositon,0,0)}).by(3,{position:new a(-this.movepositon,0,0)}).by(3,{position:new a(-this.movepositon,0,0)}).by(3,{position:new a(this.movepositon,0,0)}))},s.update=function(o){this.node.position.y>200&&this.node.moveon?this.node.setPosition(0,this.node.position.y-2,0):this.node.position.y<200&&this.node.position.y>180&&(this.node.refuel?(this.movepositon=200,this.infnite_move(this.moveplane)):this.node.bomber&&(this.movepositon=300,this.infnite_move(this.moveplane)))},e}(p))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/hudlayerscript.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./single.ts"],(function(e){"use strict";var t,r,i,n,o,a,s,l,u,c,h,p,f,d,_,b,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.defineProperty,n=e.assertThisInitialized,o=e.initializerDefineProperty},function(e){a=e.cclegacy,s=e._decorator,l=e.Button,u=e.Sprite,c=e.Label,h=e.Prefab,p=e.director,f=e.tween,d=e.Vec3,_=e.instantiate,b=e.Component},function(e){g=e.SingletonClass}],execute:function(){var y,v,m,w,C,x,z,k,L,P,S,B,D,H,I,A,F,R,T;a._RF.push({},"9b2430DfIBBnYKTZ4hd4lGy","hudlayerscript",void 0);var j=s.ccclass,E=s.property,G=g.getInstance();e("Hudlayerscript",(y=j("Hudlayerscript"),v=E(l),m=E(u),w=E(u),C=E(c),x=E(h),z=E(u),k=E(c),L=E(u),y((B=t((S=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(n(t),"clickable",!0),o(n(t),"restrict",B,n(t)),o(n(t),"main_game",D,n(t)),o(n(t),"popup",H,n(t)),o(n(t),"score",I,n(t)),o(n(t),"heart",A,n(t)),o(n(t),"heart_box",F,n(t)),o(n(t),"level_update",R,n(t)),o(n(t),"resume",T,n(t)),i(n(t),"current_score",0),i(n(t),"heart_array",[]),i(n(t),"current_heart",void 0),i(n(t),"widht",void 0),i(n(t),"posx",void 0),i(n(t),"curscore",0),t}r(t,e);var a=t.prototype;return a.onlclickresume=function(){this.restrict.node.active=!1,p.resume(),f(this.resume.node).to(.2,{scale:new d(1.2,1.2,1)}).to(.2,{scale:new d(1,1,1)}).start(),f(this.popup.node).delay(.2).to(.5,{position:new d(0,-890,0)}).start()},a.current_life_stars=function(){var e;this.posx=-85;for(var t=0;t<G.getCurrentlife();t++)e=_(this.heart),this.heart_box.node.addChild(e),e.setPosition(this.posx,0,0),this.heart_array.push(e),this.posx=this.posx+85,this.heart_array.push()},a.updatescore=function(){if(this.level_update.node.getComponent(c).string="Level: "+G.getCurrentLevel(),this.curscore!=G.getCurrentScore()){this.curscore=G.getCurrentScore();for(var e="",t=this.curscore;t<300;t+=100)e+="0";this.score.node.getComponent(c).string="Score: "+e+this.curscore}},a.onlickPAUSE=function(){this.restrict.node.active=!0,console.log("onlick pause"),f(this.popup.node).to(.5,{position:new d(0,0,0)}).call((function(){p.pause()})).start()},a.kill_star=function(){var e=this.heart_array.pop();f(e).to(.2,{scale:new d(0,0,0)}).to(.2,{scale:new d(1,1,0)}).to(.2,{scale:new d(0,0,0)}).start(),this.posx=this.posx-85},a.add_a_star=function(){var e=_(this.heart);this.heart_box.node.addChild(e),this.heart_array.push(e),e.setPosition(this.posx,0,1),f(e).to(.2,{scale:new d(1,1,0)}).to(.2,{scale:new d(0,0,0)}).to(.2,{scale:new d(1,1,0)}).start(),this.posx=this.posx+85},a.start=function(){this.restrict.node.active=!1,this.level_update.node.getComponent(c).string="Level: "+G.getCurrentLevel(),this.current_life_stars(),this.current_heart=G.getCurrentlife()},a.update=function(e){this.updatescore(),this.current_heart>G.getCurrentlife()?(this.kill_star(),this.current_heart=this.current_heart-1):this.current_heart<G.getCurrentlife()&&this.current_heart<=G.getCurrentlife()&&(this.add_a_star(),this.current_heart=this.current_heart+1)},t}(b)).prototype,"restrict",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(S.prototype,"main_game",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(S.prototype,"popup",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(S.prototype,"score",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(S.prototype,"heart",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(S.prototype,"heart_box",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(S.prototype,"level_update",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(S.prototype,"resume",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=S))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/plane_selectionpopup.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./single.ts"],(function(e){"use strict";var t,n,r,o,a,i,l,u,s,p,c,b,m,g,f,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.defineProperty},function(e){i=e.cclegacy,l=e._decorator,u=e.SpriteFrame,s=e.Prefab,p=e.Node,c=e.Button,b=e.UITransform,m=e.instantiate,g=e.Sprite,f=e.Component},function(e){_=e.SingletonClass}],execute:function(){var d,y,h,v,C,B,P,S,w,k,z,F,N;i._RF.push({},"a9ffaBpJCtKqatfeTkvLXJt","plane_selectionpopup",void 0);var T=l.ccclass,I=l.property,L=_.getInstance();e("PlaneSelectionpopup",(d=T("PlaneSelectionpopup"),y=I(u),h=I(s),v=I(u),C=I(u),B=I(p),d((w=t((S=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,r(o(t),"plane_images",w,o(t)),r(o(t),"Button_prefab",k,o(t)),r(o(t),"border_image",z,o(t)),r(o(t),"blank_image",F,o(t)),r(o(t),"content_node",N,o(t)),a(o(t),"buttons_array",[]),t}n(t,e);var i=t.prototype;return i.removeallBorderImages=function(){console.log(this.buttons_array.length);for(var e=0;e<L.getFriendlyPlanesNumber();e++)this.buttons_array[e].getComponent(c).normalSprite=this.blank_image},i.unlockplane=function(){for(var e=this,t=function(t){e.buttons_array[t].getComponent(c).interactable=!0,r=e.buttons_array[t].getChildByName("text"),o=e.buttons_array[t].getChildByName("locked"),e.buttons_array[t].removeChild(r),e.buttons_array[t].removeChild(o),e.buttons_array[t].on(p.EventType.TOUCH_START,(function(e){this.removeallBorderImages(),this.buttons_array[t].getComponent(c).normalSprite=this.border_image,L.setSelectedPlane(this.buttons_array[t].selected)}),e),console.log("done")},n=0;n<L.getGamePlayCount();n++){var r,o;t(n)}},i.onLoad=function(){var e=this.Button_prefab.data.width,t=L.getFriendlyPlanesNumber(),n=e*t+100*t;this.content_node.getComponent(b).width=n;for(var r=null,o=0,a=0;a<L.getFriendlyPlanesNumber();a++)r=m(this.Button_prefab),this.content_node.addChild(r),r.setPosition(e*a-(n/2-1.5*e)+o,-105,1),o+=30,this.buttons_array.push(r),r.getChildByName("abc").getComponent(g).spriteFrame=this.plane_images[a],r.selected=a,r.getComponent(c).interactable=!1},t}(f)).prototype,"plane_images",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(S.prototype,"Button_prefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(S.prototype,"border_image",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(S.prototype,"blank_image",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(S.prototype,"content_node",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=S))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/single.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.defineProperty},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"ad96eEdGqtK856cBagCOH+t","single",void 0);var r=e("SingletonClass",function(){function e(){if(t(this,"_currentrow",0),t(this,"_currentlife",0),t(this,"_currentScore",0),t(this,"_currentLevel",1),t(this,"_gamePlayCount",1),t(this,"_selectedPlane",0),t(this,"_totalFriendlyPlanes",5),e._instance)throw new Error("Error: Instantiation failed: Use SingletonDemo.getInstance() instead of new.");e._instance=this}var n=e.prototype;return n.getGamePlayCount=function(){return this._gamePlayCount},n.setGamePlayCount=function(e){this._gamePlayCount=e},n.getFriendlyPlanesNumber=function(){return this._totalFriendlyPlanes},n.setFriendlyPlanesNumber=function(e){this._totalFriendlyPlanes=e},n.getTotalFriendlyPlanes=function(){return this._gamePlayCount},n.getSelectedPlane=function(){return this._selectedPlane},n.setSelectedPlane=function(e){this._selectedPlane=e},e.getInstance=function(){return e._instance},n.setCurrentrow=function(e){this._currentrow=e},n.getCurrentrow=function(){return this._currentrow},n.setCurrentLevel=function(e){this._currentLevel=e},n.getCurrentLevel=function(){return this._currentLevel},n.setCurrentlife=function(e){this._currentlife=e},n.getCurrentlife=function(){return this._currentlife},n.setCurrentScore=function(e){this._currentScore=e},n.getCurrentScore=function(){return this._currentScore},e}());t(r,"_instance",new r),n._RF.pop()}}}));

System.register("chunks:///_virtual/parallax_effect2.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./single.ts"],(function(e){"use strict";var t,i,n,o,s,r,g,a,h,b,l,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.defineProperty},function(e){r=e.cclegacy,g=e._decorator,a=e.Sprite,h=e.SpriteFrame,b=e.UITransform,l=e.Component},function(e){c=e.SingletonClass}],execute:function(){var p,u,d,m,f,y,v,_,P,C,k,w,z;r._RF.push({},"bc51bAgZChDBIXd4Yw9NuLj","parallax_effect2",void 0);var F=g.ccclass,L=g.property,x=c.getInstance();e("ParallaxEffect2",(p=F("ParallaxEffect2"),u=L(a),d=L(a),m=L(a),f=L(a),y=L(h),p((P=t((_=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),g=0;g<i;g++)r[g]=arguments[g];return t=e.call.apply(e,[this].concat(r))||this,n(o(t),"bg1",P,o(t)),n(o(t),"bg2",C,o(t)),n(o(t),"bg3",k,o(t)),n(o(t),"bg4",w,o(t)),n(o(t),"backgorund_images",z,o(t)),s(o(t),"current_level",void 0),s(o(t),"speed",10),s(o(t),"move",!0),s(o(t),"change",!0),t}i(t,e);var r=t.prototype;return r.start=function(){this.change_backgorund_image(),this.current_level=x.getCurrentLevel()},r.changebackgorund=function(){this.move=!1;var e=this.bg1.node.getComponent(b).height;this.bg1.node.setPosition(0,e/2-540,0),this.bg2.node.setPosition(0,e+(e/2-540),0),this.bg3.node.setPosition(0,this.bg2.node.position.y+e,0),this.bg4.node.setPosition(0,this.bg3.node.position.y+e,0),this.move=!0},r.change_backgorund_image=function(){var e=x.getCurrentLevel();this.bg1.node.getComponent(a).spriteFrame=this.backgorund_images[e-1],this.bg2.node.getComponent(a).spriteFrame=this.backgorund_images[e-1],this.bg3.node.getComponent(a).spriteFrame=this.backgorund_images[e-1],this.bg4.node.getComponent(a).spriteFrame=this.backgorund_images[e-1],this.changebackgorund(),this.current_level=x.getCurrentLevel(),this.change=!0},r.update=function(e){this.bg1.node.setPosition(0,this.bg1.node.position.y-this.speed,1),this.bg2.node.setPosition(0,this.bg2.node.position.y-this.speed,1),this.bg3.node.setPosition(0,this.bg3.node.position.y-this.speed,1),this.bg4.node.setPosition(0,this.bg4.node.position.y-this.speed,1);var t=this.bg1.node.getComponent(b).height;this.bg4.node.position.y<-(this.bg4.node.getComponent(b).height/2-540)&&this.move?(this.bg1.node.setPosition(0,this.bg4.node.position.y+t,0),this.bg2.node.setPosition(0,this.bg1.node.position.y+t,0),this.bg3.node.setPosition(0,this.bg2.node.position.y+t,0),this.move=!1):this.bg4.node.position.y<-(this.bg4.node.getComponent(b).height/2+540)&&(this.bg4.node.setPosition(0,t+this.bg3.node.position.y,0),this.move=!0),this.current_level!=x.getCurrentLevel()&&this.change&&(this.change=!1,this.change_backgorund_image())},t}(l)).prototype,"bg1",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(_.prototype,"bg2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(_.prototype,"bg3",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(_.prototype,"bg4",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(_.prototype,"backgorund_images",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=_))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/Bomber_move.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var t,e,n,r;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,r=o.Component}],execute:function(){var i;e._RF.push({},"c68caAfAzRKcoMhJ+zsRJf+","Bomber_move",void 0);var s=n.ccclass;n.property,o("BomberMove",s("BomberMove")(i=function(o){function e(){return o.apply(this,arguments)||this}t(e,o);var n=e.prototype;return n.start=function(){},n.update=function(o){this.node.moveon&&this.node.setPosition(this.node.position.x,this.node.position.y-1,0)},e}(r))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/Enemybullets.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,s,p,r,h,a,l,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.defineProperty},function(t){p=t.cclegacy,r=t._decorator,h=t.tween,a=t.Vec3,l=t.UITransform,d=t.Component}],execute:function(){var c,u,y;p._RF.push({},"c7aa8BAUqFJbqsqXJgaRB68","Enemybullets",void 0);var m=r.ccclass,f=r.property;t("Enemybullets",m("Enemybullets")((y=e((u=function(t){function e(){for(var e,i=arguments.length,p=new Array(i),r=0;r<i;r++)p[r]=arguments[r];return e=t.call.apply(t,[this].concat(p))||this,n(o(e),"BulletSpeed",y,o(e)),s(o(e),"plane",void 0),s(o(e),"posx",void 0),s(o(e),"posy",void 0),s(o(e),"angle",void 0),s(o(e),"once",!0),e}i(e,t);var p=e.prototype;return p.start=function(){this.plane=this.node.parent.getChildByName("frienldy-plane-prefab")},p.tweenAnimation=function(t,e,i){h(this.node).to(i,{position:new a(t,e,0)}).start()},p.update=function(t){var e;if(this.node.move)if(e=this.node.position.y,e-=this.BulletSpeed*t,this.node.superbullet){if(this.node.trackpos){this.node.trackpos=!1,this.posx=this.plane.position.x,this.posy=this.plane.position.y;var i=this.node.getComponent(l).width/2,n=(this.node.getComponent(l).height,this.node.parent.getComponent(l).width/2),o=(this.node.parent.getComponent(l).height,this.node.parent.getComponent(l).height/2+this.node.getComponent(l).height);this.node.position.y==this.plane.position.y?this.posx>0?this.tweenAnimation(n+i,this.posy,2):this.tweenAnimation(-n-i,this.posy,2):this.node.position.y<this.plane.position.y?this.posx>this.node.position.x?this.tweenAnimation(n+i+200,this.posy,2):this.tweenAnimation(-n-(i+200),this.posy,2):this.tweenAnimation(this.posx,-o,2)}}else this.node.setPosition(this.node.position.x,e)},e}(d)).prototype,"BulletSpeed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8e4}}),c=u))||c);p._RF.pop()}}}));

System.register("chunks:///_virtual/movebullets.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,i,n,s,r,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,l=e.Component}],execute:function(){var u,c,p;s._RF.push({},"d842b3XPb9JI493nQnprTvV","movebullets",void 0);var a=r.ccclass,d=r.property;e("Movebullets",a("Movebullets")((p=t((c=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,i(n(t),"BulletSpeed",p,n(t)),t}o(t,e);var s=t.prototype;return s.start=function(){},s.update=function(e){var t=this.node.position.y;t+=this.BulletSpeed*e,this.node.move&&(this.node.moveleft?this.node.setPosition(this.node.position.x-.5,t):this.node.moveright?this.node.setPosition(this.node.position.x+.5,t):this.node.setPosition(this.node.position.x,t))},t}(l)).prototype,"BulletSpeed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 800}}),u=c))||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/enemyPlane.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,o,s,p,a,r,h,l,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.defineProperty},function(e){p=e.cclegacy,a=e._decorator,r=e.UITransform,h=e.tween,l=e.Vec3,d=e.Component}],execute:function(){var c,_,u,f,y;p._RF.push({},"f9eb2xEsShEvIOC9iS+8LiJ","enemyPlane",void 0);var m=a.ccclass,x=a.property;e("EnemyPlane",m("EnemyPlane")((u=t((_=function(e){function t(){for(var t,i=arguments.length,p=new Array(i),a=0;a<i;a++)p[a]=arguments[a];return t=e.call.apply(e,[this].concat(p))||this,n(o(t),"planeSpeed",u,o(t)),s(o(t),"plane",void 0),s(o(t),"bullet_on",!1),s(o(t),"active_bullets",[]),s(o(t),"width",void 0),s(o(t),"posx",void 0),n(o(t),"Normal_plane_speed",f,o(t)),n(o(t),"Faster_plane_speed",y,o(t)),s(o(t),"once",!0),t}i(t,e);var p=t.prototype;return p.start=function(){this.plane=this.node.parent.getChildByName("frienldy-plane-prefab"),this.width=this.node.parent.getComponent(r).width},p.animate_planes=function(){this.once&&(h(this.node).to(4,{position:new l(this.plane.position.x,this.node.parent.getComponent(r).height/4,0)}).start(),this.once=!1)},p.update=function(e){if(this.posx=this.plane.position.x,this.node.move)if(this.node.follow&&!this.once)this.posx==this.node.position.x?this.node.setPosition(this.node.position.x,this.node.position.y-this.Faster_plane_speed):this.posx>=0&&this.node.position.x+this.node.width/2<this.width/2?this.node.setPosition(this.node.position.x+this.Faster_plane_speed,this.node.position.y-this.Faster_plane_speed):this.node.position.x>-(this.width/2-this.node.width/2)?this.node.setPosition(this.node.position.x-this.Faster_plane_speed,this.node.position.y-this.Faster_plane_speed):this.posx>0?this.node.setPosition(this.node.position.x-this.Faster_plane_speed,this.node.position.y-this.Faster_plane_speed,1):this.node.setPosition(this.node.position.x+this.Faster_plane_speed,this.node.position.y-this.Faster_plane_speed,1);else{this.once=!0,this.node.follow&&this.animate_planes();var t=this.node.position.y;this.bullet_on=!0,this.node.setPosition(this.node.position.x,t-this.Normal_plane_speed)}else this.bullet_on=!1},t}(d)).prototype,"planeSpeed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),f=t(_.prototype,"Normal_plane_speed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),y=t(_.prototype,"Faster_plane_speed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2.5}}),c=_))||c);p._RF.pop()}}}));

System.register("chunks:///_virtual/laser_bullet.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,s,o,r;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,r=e.Component}],execute:function(){var a;s._RF.push({},"ff1e1D+J7xCX7PysozynWri","laser_bullet",void 0);var l=o.ccclass;o.property,e("LaserBullet",l("LaserBullet")(a=function(e){function s(){for(var t,s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(i(t),"plane",void 0),t}t(s,e);var o=s.prototype;return o.start=function(){this.plane=this.node.parent.getChildByName("frienldy-plane-prefab")},o.update=function(e){this.node.move&&(this.node.scale.y<=.2||this.node.scale.y<=1&&this.node.planex==this.plane.position.x&&this.node.planey==this.plane.position.y?this.node.setScale(.2,this.node.scale.y+.03,1):this.node.setPosition(this.node.position.x,this.node.position.y+5,1))},s}(r))||a);s._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./single.ts","./mainscript.ts","./bomber_plane_move.ts","./hudlayerscript.ts","./plane_selectionpopup.ts","./parallax_effect2.ts","./Bomber_move.ts","./Enemybullets.ts","./movebullets.ts","./enemyPlane.ts","./laser_bullet.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});